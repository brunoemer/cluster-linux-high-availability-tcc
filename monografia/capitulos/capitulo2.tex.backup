\chapter{Alta disponibilidade}
Conceitualmente alta disponibilidade está diretamente relacionada a confiabilidade, dependabilidade e tolerância a falhas. 
Confiabilidade, a mais importante característica, transmite a ideia de continuidade de serviço \cite{pankaj1994}.
Por sua vez dependabilidade é o resultado de uma implementação de alta disponibilidade com sucesso em um determinado ambiente ou serviço,
sendo assim haverá uma dependência deste serviço.

Alta disponibilidade é bastante conhecida, vem sendo cada vez mais empregada nos ambientes computacionais.
Pode-se defini-la como a redundância de \textit{hardware} ou \textit{software} para que o serviço fique mais tempo disponível.
De acordo com \cite{costa2009}, pode-se afirmar que alta disponibilidade está ligada á crescente dependêcia de computadores.
O objetivo de promover alta disponibilidade resume-se em estar sempre a disposição quando o cliente solicitar ou acessar algum serviço.
Uma das palavras-chave da alta disponibilidade é a tolerância a falhas.

Sabe-se que \textit{hardware} tende a falhar por isso utiliza-se métodos como prevenção de falhas e tolerância a falhas.
A abordagem prevenção de falhas melhora a disponibilidade e a confiabilidade de um serviço porém, não resolverá todas as possíveis falhas.
Sendo assim, a segunda abordagem, tolerância a falhas, fornece disponibilidade mesmo com presença de falhas \cite{pankaj1994}.
O seu objetivo é aumentar a disponibilidade de um sistema, isto é, 
aumentar o tempo que os serviços fornecidos aos clientes ou usuários ficam disponíveis. 
Um sistema é tolerante a falhas se ele pode mascarar a presença de falhas em um sistema usando redundância. Como se expressa \cite{costa2009}, 
o objetivo da tolerância a falhas é alcançar a dependabilidade, assim indicando uma boa qualidade de serviço.

Redundância pode ser feita através da replicação de componentes, para garantir o mascaramento de falhas.
Na prática se um componente falhar, ele deve ser reparado ou substituido por um novo sem que haja uma interrupção no serviço.
Também pode ser através do envio de sinais ou \textit{bits} de controle junto aos dados, 
servindo assim para detecção de erros e até para correção \cite{weber2002}.

Um ponto importante sobre alta diponibilidade é como medi-la. Para isso temos que saber o significado dos termos \textit{uptime} e 
\textit{downtime}, que são respectivamente o tempo que os serviços esta funcionando normalmente e o tempo que não estão funcionando.
Outra forma de medir a alta disponibilidade é pela quantidade de ``noves'', isto é, se um serviço possui 4 noves de disponibilidade
este possui uma disponibilidade de 99,99\% \cite{filho2004}.
Para ilustrar, a tabela \ref{tab:dispniveis} possui alguns níveis de disponibilidade enumerados e a 
tabela \ref{tab:dispexemplos} possui alguns exemplos de serviços relacionados ao nível de disponibilidade.
\begin{table}
\caption {Exemplos de sistemas}
\label{tab:dispexemplos} 
\begin{center}
\begin{tabular}{|l|l|}\hline
  & Nome\\\hline
1 & computadores pessoais\\\hline
3 & sistemas de acesso\\\hline
5 & provedores de internet\\\hline
6 & CPD, sistemas de negócios\\\hline
7 & sistemas de telefonia; sistemas de saúde; sistemas bancários\\\hline
8 & sistemas de defesa militar\\\hline
\end{tabular}
\end{center}
\end{table}

\begin{table}
\caption {Níveis de alta disponibilidade}
\label{tab:dispniveis} 
\begin{center}
\begin{tabular}{|l|l|l|l|}\hline
  & Uptime & Downtime por ano & Downtime por semana\\\hline
1 & 90\% & 36.5 dias & 16 horas e 51 minutos\\\hline
2 & 98\% & 7.3 dias & 3 horas e 22 minutos\\\hline
3 & 99\% & 3.65 dias & 1 hora e 41 minutos\\\hline
4 & 99.8\% & 17 horas e 30 minutos & 20 minutos e 10 segundos\\\hline
5 & 99.9\% & 8 horas e 45 minutos & 10 minutos e 5 segundos\\\hline
6 & 99.99\% & 52.5 minutos & 1 minuto\\\hline
7 & 99.999\% & 5.25 minutos & 6 segundos\\\hline
8 & 99.9999\% & 31.5 minutos & 0.6 segundos\\\hline
\end{tabular}
\end{center}
\end{table}

Sendo assim podemos calcular a disponibilidade através de:\\
D = MTBF / (MTBF + MTTR)
Sabendo que D é a disponibilidade em porcentagem, o \textit{Mean Time Between Failures}(MTBF) é o tempo médio entre falhas

Quanto maior o valor da disponibilidade maior deve ser a redundância no ambiente, assim reduzindo os pontos únicos de falha,
em inglês \textit{Single Point Of Failure}(SPOF)

Fazer: 
SLA service level agreement


--Tecnicas de tolerância a falhas: hardware, software, ambiente
--Fases tolerancia a falhas: deteccao, .. recuperacao de erros

